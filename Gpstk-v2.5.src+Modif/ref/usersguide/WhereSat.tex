%\documentclass{article}
%\usepackage{fancyvrb}
%\usepackage{perltex}
%\usepackage{xcolor}
%\usepackage{listings}
%\usepackage{longtable}
%\usepackage{multirow}
%\input{src/cmd}
%\begin{document}

\index{WhereSat!application writeup}
\section{\emph{WhereSat}}
\subsection{Overview}
This application uses input ephemeris to compute the predicted location of a 
satellite. The Earth-centered, Earth-fixed (ECEF) position of the satellite is 
reported. Optionally, the topocentric coordinates--azimuth, elevation, and 
range--can be generated. The user can specify the time interval between 
successive predictions. Also the output can be generated in a format easily
imported into numerical packages.

\subsection{Usage}
\subsubsection{\emph{WhereSat}}
\begin{\outputsize}
\begin{longtable}{lll}
%\multicolumn{3}{c}{\application{WhereSat}} \\
\multicolumn{3}{l}{\textbf{Required Arguments}} \\
\entry{Short Arg.}{Long Arg.}{Description}{1}
\entry{-e}{--eph-files=ARG}{Ephemeris source file(s).  Can be RINEX nav, SP3, or FIC.}{1}
& & \\
\multicolumn{3}{l}{\textbf{Optional Arguments}} \\
\entry{Short Arg.}{Long Arg.}{Description}{1}
\entry{-h}{--help}{Print help usage.}{1}
\entry{-u}{--position=ARG}{Antenna position in ECEF (x,y,z) coordinates.  Format as string: ``X Y Z".  used to give user-centered data (SV range, azimuth, and elevation) when SV is in view.}{4}
\entry{}{--start=ARG}{Ignore data before this time.  Format as string: ``MO/DD/YYYY HH:MM:SS".}{2}
\entry{}{--end=ARG}{Ignore data after this time.  Format as string: ``MO/DD/YYYY HH:MM:SS".}{2}
\entry{-f}{--time-format=ARG}{CommonTime format specifier used for times in the output.  The default is ``\%4Y \%3j \%02H:\%02M:\%4.1f".}{3}
\entry{-p}{--prn=NUM}{Which SVs to analyze.  Repeat option for multiple satellites.  If this option is not specified, all ephemeris data will be processed.}{3}
\entry{-t}{--time=NUM}{Time increment in seconds for ephemeris calculation.  Default is 900 seconds (15 minutes).}{2}
\end{longtable}
\end{\outputsize}

\subsection{Examples}
\begin{\outputsize}
\begin{lstlisting}

> wheresat -e nav/s121001a.08n
Scanning over prnSet.
Scan complete, size = 0
Scanning over PRNs indices.
Scan complete, size = 32
Set timeFormat to %02m/%02d/%04Y %02H:%02M:%04.1f
positionOpt has count = 0
# time, PRN, X(m), Y(m), Z(m), Clock Correction(ms)
File read by EphReader.
2454466 86384000 0.000000000000000 GPS
2454466 86384000 0.000000000000000 GPS
2454468 07200000 0.000000000000000 GPS
01/01/2008 00:14:44.0   2   21747436.312   -9257796.753  -11975305.200  -0.000019        -        -               -
01/01/2008 00:14:44.0   4   18510072.147    1615384.170  -19198127.464   0.000013        -        -               -
01/01/2008 00:14:44.0  10   22497303.175   -3072267.608   13925841.366  -0.000017        -        -               -
01/01/2008 00:14:44.0  11   -8870210.278   23588157.454   -8007606.591   0.000015        -        -               -
01/01/2008 00:14:44.0  12    5936939.408  -13991621.825  -21687667.199   0.000003        -        -               -
01/01/2008 00:14:44.0  13    6207240.073   25803219.367    1294271.894  -0.000008        -        -               -
01/01/2008 00:14:44.0  17   14616066.283   16715096.969  -14666158.339  -0.000006        -        -               -
...


\end{lstlisting}
\end{\outputsize}


%\end{document}

